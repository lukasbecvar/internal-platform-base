{% extends 'common/layout.twig' %}

{# COMPONENT FOR VIEWING INTERNAL CONFIGURATION FILES (for default configs) #}
{% block component %}
{# SUB-NAVIGATION #}
<div class="flex-shrink-0 px-2 py-1 border-b border-gray-700/50 bg-gray-800/30">
	<div class="flex items-center justify-between gap-2">
		<div class="flex items-center gap-3">
			<a href={{ path('app_internal_config_index') }} title="Back to internal configuration list" class="w-8 h-8 bg-gray-700/50 hover:bg-gray-600/50 rounded flex items-center justify-center transition-all duration-200 border border-gray-600/30">
				<i class="fas fa-arrow-left text-gray-300 text-xs"></i>
			</a>
			<div class="hidden sm:block">
				<h1 class="text-xm font-bold text-white">View Configuration</h1>
				<p class="text-gray-400 text-xs">{{ filename }}</p>
			</div>
		</div>
	</div>
</div>

{# CONFIG VIEWER #}
<div class="bg-gray-800/50 p-4 rounded-lg h-full max-h-screen overflow-auto">
    {# INFO HEADER #}
    <div class="mb-4">
        <h2 class="text-xl font-semibold">Read-only Content</h2>
        <p class="text-gray-300 font-bold">Config: {{ filename }}</p>
        <p class="text-gray-400">This is a default configuration file. To edit it, create a custom version.</p>
    </div>

    {# CONFIG CONTENT #}
    <pre class="bg-gray-900/50 p-4 rounded-lg text-white overflow-auto">
        <code>{{ content }}</code>
    </pre>

    {# CREATE EDITABLE CONFIG BUTTON #}
    <div class="mt-4">
        <form method="POST" action={{ path('app_internal_config_create') }}>
            <input type="hidden" name="filename" value={{ filename }}>
            <input type="hidden" name="csrf_token" value={{ csrf_token('internal-csrf-token') }}>
            <button type="submit" class="bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-4 rounded">
                Create Editable Config
            </button>
        </form>
    </div>
</div>
{% endblock %}
